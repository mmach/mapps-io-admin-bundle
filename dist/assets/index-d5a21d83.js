import{d9 as ve,a as i,da as Z,db as lt,dc as re,_ as b,bu as ct,dd as ze,d8 as ae,n as G,bl as we,ej as Ce,ek as se,el as Ze,dz as $e,dG as Bt,dA as De,em as It,en as At,eo as zt,ep as Pe,eq as Lt,dB as Y,dn as ue,er as dt,dm as Nt,es as jt,i as ie,r as Wt,j as F,cU as Vt,cV as Ht,cW as be,cY as et,cX as Fe,et as Gt,d0 as le,N as ce,G as J,d2 as Ut,dp as Be,dC as Le,dD as Ne,dE as je,eu as qt,ev as fe,ew as X,R as K,M as me,m as Kt,O as ut,l as pe,ab as Ee,$ as tt}from"./index-9bb41de4.js";import{r as Yt}from"./createSvgIcon-9815349b.js";import{d as Xt}from"./CloudUpload-c6fe4c64.js";import{d as Jt}from"./Close-2650301e.js";import{I as Qt}from"./IconButton-6f0b722e.js";import{r as ft,g as Te}from"./utils-15a7aa19.js";import{D as Zt,a as en,b as tn,B as nt}from"./DialogTitle-e8be6b21.js";var nn={entering:{opacity:1},entered:{opacity:1}},rn={enter:ve.enteringScreen,exit:ve.leavingScreen},an=i.forwardRef(function(e,a){var r=e.children,n=e.disableStrictModeCompat,o=n===void 0?!1:n,d=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,f=e.onExited,p=e.onExiting,v=e.style,E=e.TransitionComponent,m=E===void 0?ct:E,w=e.timeout,C=w===void 0?rn:w,h=Z(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","TransitionComponent","timeout"]),g=lt(),k=g.unstable_strictMode&&!o,y=i.useRef(null),S=re(r.ref,a),x=re(k?y:void 0,S),R=function(B){return function(L,P){if(B){var M=k?[y.current,L]:[L,P],$=ze(M,2),O=$[0],I=$[1];I===void 0?B(O):B(O,I)}}},N=R(c),D=R(function(T,B){ft(T);var L=Te({style:v,timeout:C},{mode:"enter"});T.style.webkitTransition=g.transitions.create("opacity",L),T.style.transition=g.transitions.create("opacity",L),s&&s(T,B)}),_=R(l),z=R(p),W=R(function(T){var B=Te({style:v,timeout:C},{mode:"exit"});T.style.webkitTransition=g.transitions.create("opacity",B),T.style.transition=g.transitions.create("opacity",B),u&&u(T)}),V=R(f);return i.createElement(m,b({appear:!0,in:d,nodeRef:k?y:void 0,onEnter:D,onEntered:_,onEntering:N,onExit:W,onExited:V,onExiting:z,timeout:C},h),function(T,B){return i.cloneElement(r,b({style:b({opacity:0,visibility:T==="exited"&&!d?"hidden":void 0},nn[T],v,r.props.style),ref:x},B))})});const pt=an;var on={root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},sn=i.forwardRef(function(e,a){var r=e.children,n=e.classes,o=e.className,d=e.invisible,s=d===void 0?!1:d,l=e.open,c=e.transitionDuration,u=e.TransitionComponent,f=u===void 0?pt:u,p=Z(e,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return i.createElement(f,b({in:l,timeout:c},p),i.createElement("div",{className:G(n.root,o,s&&n.invisible),"aria-hidden":!0,ref:a},r))});const ln=ae(on,{name:"MuiBackdrop"})(sn);function rt(t){return t.substring(2).toLowerCase()}function cn(t){return document.documentElement.clientWidth<t.clientX||document.documentElement.clientHeight<t.clientY}function dn(t){var e=t.children,a=t.disableReactTree,r=a===void 0?!1:a,n=t.mouseEvent,o=n===void 0?"onClick":n,d=t.onClickAway,s=t.touchEvent,l=s===void 0?"onTouchEnd":s,c=i.useRef(!1),u=i.useRef(null),f=i.useRef(!1),p=i.useRef(!1);i.useEffect(function(){return setTimeout(function(){f.current=!0},0),function(){f.current=!1}},[]);var v=i.useCallback(function(h){u.current=we.findDOMNode(h)},[]),E=re(e.ref,v),m=Ce(function(h){var g=p.current;if(p.current=!1,!(!f.current||!u.current||cn(h))){if(c.current){c.current=!1;return}var k;if(h.composedPath)k=h.composedPath().indexOf(u.current)>-1;else{var y=se(u.current);k=!y.documentElement.contains(h.target)||u.current.contains(h.target)}!k&&(r||!g)&&d(h)}}),w=function(g){return function(k){p.current=!0;var y=e.props[g];y&&y(k)}},C={ref:E};return l!==!1&&(C[l]=w(l)),i.useEffect(function(){if(l!==!1){var h=rt(l),g=se(u.current),k=function(){c.current=!0};return g.addEventListener(h,m),g.addEventListener("touchmove",k),function(){g.removeEventListener(h,m),g.removeEventListener("touchmove",k)}}},[m,l]),o!==!1&&(C[o]=w(o)),i.useEffect(function(){if(o!==!1){var h=rt(o),g=se(u.current);return g.addEventListener(h,m),function(){g.removeEventListener(h,m)}}},[m,o]),i.createElement(i.Fragment,null,i.cloneElement(e,C))}function un(t){return t=typeof t=="function"?t():t,we.findDOMNode(t)}var _e=typeof window<"u"?i.useLayoutEffect:i.useEffect,fn=i.forwardRef(function(e,a){var r=e.children,n=e.container,o=e.disablePortal,d=o===void 0?!1:o,s=e.onRendered,l=i.useState(null),c=l[0],u=l[1],f=re(i.isValidElement(r)?r.ref:null,a);return _e(function(){d||u(un(n)||document.body)},[n,d]),_e(function(){if(c&&!d)return Ze(a,c),function(){Ze(a,null)}},[a,c,d]),_e(function(){s&&(c||d)&&s()},[s,c,d]),d?i.isValidElement(r)?i.cloneElement(r,{ref:f}):r:c&&we.createPortal(r,c)});const pn=fn;function vn(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}function mn(t){var e=se(t);return e.body===t?It(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function ye(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function at(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function it(t,e,a){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],n=arguments.length>4?arguments[4]:void 0,o=[e,a].concat(Bt(r)),d=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,function(s){s.nodeType===1&&o.indexOf(s)===-1&&d.indexOf(s.tagName)===-1&&ye(s,n)})}function Oe(t,e){var a=-1;return t.some(function(r,n){return e(r)?(a=n,!0):!1}),a}function hn(t,e){var a=[],r=[],n=t.container,o;if(!e.disableScrollLock){if(mn(n)){var d=vn();a.push({value:n.style.paddingRight,key:"padding-right",el:n}),n.style["padding-right"]="".concat(at(n)+d,"px"),o=se(n).querySelectorAll(".mui-fixed"),[].forEach.call(o,function(u){r.push(u.style.paddingRight),u.style.paddingRight="".concat(at(u)+d,"px")})}var s=n.parentElement,l=s.nodeName==="HTML"&&window.getComputedStyle(s)["overflow-y"]==="scroll"?s:n;a.push({value:l.style.overflow,key:"overflow",el:l}),l.style.overflow="hidden"}var c=function(){o&&[].forEach.call(o,function(f,p){r[p]?f.style.paddingRight=r[p]:f.style.removeProperty("padding-right")}),a.forEach(function(f){var p=f.value,v=f.el,E=f.key;p?v.style.setProperty(E,p):v.style.removeProperty(E)})};return c}function gn(t){var e=[];return[].forEach.call(t.children,function(a){a.getAttribute&&a.getAttribute("aria-hidden")==="true"&&e.push(a)}),e}var bn=function(){function t(){De(this,t),this.modals=[],this.containers=[]}return $e(t,[{key:"add",value:function(a,r){var n=this.modals.indexOf(a);if(n!==-1)return n;n=this.modals.length,this.modals.push(a),a.modalRef&&ye(a.modalRef,!1);var o=gn(r);it(r,a.mountNode,a.modalRef,o,!0);var d=Oe(this.containers,function(s){return s.container===r});return d!==-1?(this.containers[d].modals.push(a),n):(this.containers.push({modals:[a],container:r,restore:null,hiddenSiblingNodes:o}),n)}},{key:"mount",value:function(a,r){var n=Oe(this.containers,function(d){return d.modals.indexOf(a)!==-1}),o=this.containers[n];o.restore||(o.restore=hn(o,r))}},{key:"remove",value:function(a){var r=this.modals.indexOf(a);if(r===-1)return r;var n=Oe(this.containers,function(s){return s.modals.indexOf(a)!==-1}),o=this.containers[n];if(o.modals.splice(o.modals.indexOf(a),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),a.modalRef&&ye(a.modalRef,!0),it(o.container,a.mountNode,a.modalRef,o.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var d=o.modals[o.modals.length-1];d.modalRef&&ye(d.modalRef,!1)}return r}},{key:"isTopModal",value:function(a){return this.modals.length>0&&this.modals[this.modals.length-1]===a}}]),t}();function En(t){var e=t.children,a=t.disableAutoFocus,r=a===void 0?!1:a,n=t.disableEnforceFocus,o=n===void 0?!1:n,d=t.disableRestoreFocus,s=d===void 0?!1:d,l=t.getDoc,c=t.isEnabled,u=t.open,f=i.useRef(),p=i.useRef(null),v=i.useRef(null),E=i.useRef(),m=i.useRef(null),w=i.useCallback(function(g){m.current=we.findDOMNode(g)},[]),C=re(e.ref,w),h=i.useRef();return i.useEffect(function(){h.current=u},[u]),!h.current&&u&&typeof window<"u"&&(E.current=l().activeElement),i.useEffect(function(){if(u){var g=se(m.current);!r&&m.current&&!m.current.contains(g.activeElement)&&(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),m.current.focus());var k=function(){var R=m.current;if(R!==null){if(!g.hasFocus()||o||!c()||f.current){f.current=!1;return}m.current&&!m.current.contains(g.activeElement)&&m.current.focus()}},y=function(R){o||!c()||R.keyCode!==9||g.activeElement===m.current&&(f.current=!0,R.shiftKey?v.current.focus():p.current.focus())};g.addEventListener("focus",k,!0),g.addEventListener("keydown",y,!0);var S=setInterval(function(){k()},50);return function(){clearInterval(S),g.removeEventListener("focus",k,!0),g.removeEventListener("keydown",y,!0),s||(E.current&&E.current.focus&&E.current.focus(),E.current=null)}}},[r,o,s,c,u]),i.createElement(i.Fragment,null,i.createElement("div",{tabIndex:0,ref:p,"data-test":"sentinelStart"}),i.cloneElement(e,{ref:C}),i.createElement("div",{tabIndex:0,ref:v,"data-test":"sentinelEnd"}))}var ot={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},yn=i.forwardRef(function(e,a){var r=e.invisible,n=r===void 0?!1:r,o=e.open,d=Z(e,["invisible","open"]);return o?i.createElement("div",b({"aria-hidden":!0,ref:a},d,{style:b({},ot.root,n?ot.invisible:{},d.style)})):null});const kn=yn;function Cn(t){return t=typeof t=="function"?t():t,we.findDOMNode(t)}function wn(t){return t.children?t.children.props.hasOwnProperty("in"):!1}var xn=new bn,Rn=function(e){return{root:{position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}},Sn=i.forwardRef(function(e,a){var r=At(),n=zt({name:"MuiModal",props:b({},e),theme:r}),o=n.BackdropComponent,d=o===void 0?kn:o,s=n.BackdropProps,l=n.children,c=n.closeAfterTransition,u=c===void 0?!1:c,f=n.container,p=n.disableAutoFocus,v=p===void 0?!1:p,E=n.disableBackdropClick,m=E===void 0?!1:E,w=n.disableEnforceFocus,C=w===void 0?!1:w,h=n.disableEscapeKeyDown,g=h===void 0?!1:h,k=n.disablePortal,y=k===void 0?!1:k,S=n.disableRestoreFocus,x=S===void 0?!1:S,R=n.disableScrollLock,N=R===void 0?!1:R,D=n.hideBackdrop,_=D===void 0?!1:D,z=n.keepMounted,W=z===void 0?!1:z,V=n.manager,T=V===void 0?xn:V,B=n.onBackdropClick,L=n.onClose,P=n.onEscapeKeyDown,M=n.onRendered,$=n.open,O=Z(n,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),I=i.useState(!0),A=I[0],U=I[1],j=i.useRef({}),oe=i.useRef(null),ee=i.useRef(null),he=re(ee,a),H=wn(n),xe=function(){return se(oe.current)},q=function(){return j.current.modalRef=ee.current,j.current.mountNode=oe.current,j.current},ne=function(){T.mount(q(),{disableScrollLock:N}),ee.current.scrollTop=0},Je=Ce(function(){var Q=Cn(f)||xe().body;T.add(q(),Q),ee.current&&ne()}),Me=i.useCallback(function(){return T.isTopModal(q())},[T]),Dt=Ce(function(Q){oe.current=Q,Q&&(M&&M(),$&&Me()?ne():ye(ee.current,!0))}),ge=i.useCallback(function(){T.remove(q())},[T]);if(i.useEffect(function(){return function(){ge()}},[ge]),i.useEffect(function(){$?Je():(!H||!u)&&ge()},[$,ge,H,u,Je]),!W&&!$&&(!H||A))return null;var Mt=function(){U(!1)},Ft=function(){U(!0),u&&ge()},_t=function(te){te.target===te.currentTarget&&(B&&B(te),!m&&L&&L(te,"backdropClick"))},Ot=function(te){te.key!=="Escape"||!Me()||(P&&P(te),g||(te.stopPropagation(),L&&L(te,"escapeKeyDown")))},Qe=Rn(r||{zIndex:Lt}),Re={};return l.props.tabIndex===void 0&&(Re.tabIndex=l.props.tabIndex||"-1"),H&&(Re.onEnter=Pe(Mt,l.props.onEnter),Re.onExited=Pe(Ft,l.props.onExited)),i.createElement(pn,{ref:Dt,container:f,disablePortal:y},i.createElement("div",b({ref:he,onKeyDown:Ot,role:"presentation"},O,{style:b({},Qe.root,!$&&A?Qe.hidden:{},O.style)}),_?null:i.createElement(d,b({open:$,onClick:_t},s)),i.createElement(En,{disableEnforceFocus:C,disableAutoFocus:v,disableRestoreFocus:x,getDoc:xe,isEnabled:Me,open:$},i.cloneElement(l,Re))))});const Pn=Sn;var Tn=function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Y({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.sm+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.md+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.lg+32*2),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Y({},e.breakpoints.down(e.breakpoints.values.xl+32*2),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}},$n={enter:ve.enteringScreen,exit:ve.leavingScreen},Dn=i.forwardRef(function(e,a){var r=e.BackdropProps,n=e.children,o=e.classes,d=e.className,s=e.disableBackdropClick,l=s===void 0?!1:s,c=e.disableEscapeKeyDown,u=c===void 0?!1:c,f=e.fullScreen,p=f===void 0?!1:f,v=e.fullWidth,E=v===void 0?!1:v,m=e.maxWidth,w=m===void 0?"sm":m,C=e.onBackdropClick,h=e.onClose,g=e.onEnter,k=e.onEntered,y=e.onEntering,S=e.onEscapeKeyDown,x=e.onExit,R=e.onExited,N=e.onExiting,D=e.open,_=e.PaperComponent,z=_===void 0?dt:_,W=e.PaperProps,V=W===void 0?{}:W,T=e.scroll,B=T===void 0?"paper":T,L=e.TransitionComponent,P=L===void 0?pt:L,M=e.transitionDuration,$=M===void 0?$n:M,O=e.TransitionProps,I=e["aria-describedby"],A=e["aria-labelledby"],U=Z(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),j=i.useRef(),oe=function(H){j.current=H.target},ee=function(H){H.target===H.currentTarget&&H.target===j.current&&(j.current=null,C&&C(H),!l&&h&&h(H,"backdropClick"))};return i.createElement(Pn,b({className:G(o.root,d),BackdropComponent:ln,BackdropProps:b({transitionDuration:$},r),closeAfterTransition:!0},l?{disableBackdropClick:l}:{},{disableEscapeKeyDown:u,onEscapeKeyDown:S,onClose:h,open:D,ref:a},U),i.createElement(P,b({appear:!0,in:D,timeout:$,onEnter:g,onEntering:y,onEntered:k,onExit:x,onExiting:N,onExited:R,role:"none presentation"},O),i.createElement("div",{className:G(o.container,o["scroll".concat(ue(B))]),onMouseUp:ee,onMouseDown:oe},i.createElement(z,b({elevation:24,role:"dialog","aria-describedby":I,"aria-labelledby":A},V,{className:G(o.paper,o["paperScroll".concat(ue(B))],o["paperWidth".concat(ue(String(w)))],V.className,p&&o.paperFullScreen,E&&o.paperFullWidth)}),n))))});const Mn=ae(Tn,{name:"MuiDialog"})(Dn);var Fn=function(e){return{root:b({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}},_n=i.forwardRef(function(e,a){var r=e.children,n=e.classes,o=e.className,d=e.color,s=d===void 0?"default":d,l=e.component,c=l===void 0?"button":l,u=e.disabled,f=u===void 0?!1:u,p=e.disableFocusRipple,v=p===void 0?!1:p,E=e.focusVisibleClassName,m=e.size,w=m===void 0?"large":m,C=e.variant,h=C===void 0?"circular":C,g=Z(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(Nt,b({className:G(n.root,o,w!=="large"&&n["size".concat(ue(w))],f&&n.disabled,h==="extended"&&n.extended,{primary:n.primary,secondary:n.secondary,inherit:n.colorInherit}[s]),component:c,disabled:f,focusRipple:!v,focusVisibleClassName:G(n.focusVisible,E),ref:a},g),i.createElement("span",{className:n.label},r))});const On=ae(Fn,{name:"MuiFab"})(_n);function Ie(t){return"scale(".concat(t,", ").concat(Math.pow(t,2),")")}var Bn={entering:{opacity:1,transform:Ie(1)},entered:{opacity:1,transform:"none"}},vt=i.forwardRef(function(e,a){var r=e.children,n=e.disableStrictModeCompat,o=n===void 0?!1:n,d=e.in,s=e.onEnter,l=e.onEntered,c=e.onEntering,u=e.onExit,f=e.onExited,p=e.onExiting,v=e.style,E=e.timeout,m=E===void 0?"auto":E,w=e.TransitionComponent,C=w===void 0?ct:w,h=Z(e,["children","disableStrictModeCompat","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),g=i.useRef(),k=i.useRef(),y=lt(),S=y.unstable_strictMode&&!o,x=i.useRef(null),R=re(r.ref,a),N=re(S?x:void 0,R),D=function(M){return function($,O){if(M){var I=S?[x.current,$]:[$,O],A=ze(I,2),U=A[0],j=A[1];j===void 0?M(U):M(U,j)}}},_=D(c),z=D(function(P,M){ft(P);var $=Te({style:v,timeout:m},{mode:"enter"}),O=$.duration,I=$.delay,A;m==="auto"?(A=y.transitions.getAutoHeightDuration(P.clientHeight),k.current=A):A=O,P.style.transition=[y.transitions.create("opacity",{duration:A,delay:I}),y.transitions.create("transform",{duration:A*.666,delay:I})].join(","),s&&s(P,M)}),W=D(l),V=D(p),T=D(function(P){var M=Te({style:v,timeout:m},{mode:"exit"}),$=M.duration,O=M.delay,I;m==="auto"?(I=y.transitions.getAutoHeightDuration(P.clientHeight),k.current=I):I=$,P.style.transition=[y.transitions.create("opacity",{duration:I,delay:O}),y.transitions.create("transform",{duration:I*.666,delay:O||I*.333})].join(","),P.style.opacity="0",P.style.transform=Ie(.75),u&&u(P)}),B=D(f),L=function(M,$){var O=S?M:$;m==="auto"&&(g.current=setTimeout(O,k.current||0))};return i.useEffect(function(){return function(){clearTimeout(g.current)}},[]),i.createElement(C,b({appear:!0,in:d,nodeRef:S?x:void 0,onEnter:z,onEntered:W,onEntering:_,onExit:T,onExited:B,onExiting:V,addEndListener:L,timeout:m==="auto"?null:m},h),function(P,M){return i.cloneElement(r,b({style:b({opacity:0,transform:Ie(.75),visibility:P==="exited"&&!d?"hidden":void 0},Bn[P],v,r.props.style),ref:N},M))})});vt.muiSupportAuto=!0;const In=vt;var An=function(e){var a=e.palette.type==="light"?.8:.98,r=jt(e.palette.background.default,a);return{root:b({},e.typography.body2,Y({color:e.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1},e.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288})),message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}},zn=i.forwardRef(function(e,a){var r=e.action,n=e.classes,o=e.className,d=e.message,s=e.role,l=s===void 0?"alert":s,c=Z(e,["action","classes","className","message","role"]);return i.createElement(dt,b({role:l,square:!0,elevation:6,className:G(n.root,o),ref:a},c),i.createElement("div",{className:n.message},d),r?i.createElement("div",{className:n.action},r):null)});const mt=ae(An,{name:"MuiSnackbarContent"})(zn);var Ln=function(e){var a={top:8},r={bottom:8},n={justifyContent:"flex-end"},o={justifyContent:"flex-start"},d={top:24},s={bottom:24},l={right:24},c={left:24},u={left:"50%",right:"auto",transform:"translateX(-50%)"};return{root:{zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},anchorOriginTopCenter:b({},a,Y({},e.breakpoints.up("sm"),b({},d,u))),anchorOriginBottomCenter:b({},r,Y({},e.breakpoints.up("sm"),b({},s,u))),anchorOriginTopRight:b({},a,n,Y({},e.breakpoints.up("sm"),b({left:"auto"},d,l))),anchorOriginBottomRight:b({},r,n,Y({},e.breakpoints.up("sm"),b({left:"auto"},s,l))),anchorOriginTopLeft:b({},a,o,Y({},e.breakpoints.up("sm"),b({right:"auto"},d,c))),anchorOriginBottomLeft:b({},r,o,Y({},e.breakpoints.up("sm"),b({right:"auto"},s,c)))}},Nn=i.forwardRef(function(e,a){var r=e.action,n=e.anchorOrigin;n=n===void 0?{vertical:"bottom",horizontal:"center"}:n;var o=n.vertical,d=n.horizontal,s=e.autoHideDuration,l=s===void 0?null:s,c=e.children,u=e.classes,f=e.className,p=e.ClickAwayListenerProps,v=e.ContentProps,E=e.disableWindowBlurListener,m=E===void 0?!1:E,w=e.message,C=e.onClose,h=e.onEnter,g=e.onEntered,k=e.onEntering,y=e.onExit,S=e.onExited,x=e.onExiting,R=e.onMouseEnter,N=e.onMouseLeave,D=e.open,_=e.resumeHideDuration,z=e.TransitionComponent,W=z===void 0?In:z,V=e.transitionDuration,T=V===void 0?{enter:ve.enteringScreen,exit:ve.leavingScreen}:V,B=e.TransitionProps,L=Z(e,["action","anchorOrigin","autoHideDuration","children","classes","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onEnter","onEntered","onEntering","onExit","onExited","onExiting","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"]),P=i.useRef(),M=i.useState(!0),$=M[0],O=M[1],I=Ce(function(){C&&C.apply(void 0,arguments)}),A=Ce(function(q){!C||q==null||(clearTimeout(P.current),P.current=setTimeout(function(){I(null,"timeout")},q))});i.useEffect(function(){return D&&A(l),function(){clearTimeout(P.current)}},[D,l,A]);var U=function(){clearTimeout(P.current)},j=i.useCallback(function(){l!=null&&A(_??l*.5)},[l,_,A]),oe=function(ne){R&&R(ne),U()},ee=function(ne){N&&N(ne),j()},he=function(ne){C&&C(ne,"clickaway")},H=function(){O(!0)},xe=function(){O(!1)};return i.useEffect(function(){if(!m&&D)return window.addEventListener("focus",j),window.addEventListener("blur",U),function(){window.removeEventListener("focus",j),window.removeEventListener("blur",U)}},[m,j,D]),!D&&$?null:i.createElement(dn,b({onClickAway:he},p),i.createElement("div",b({className:G(u.root,u["anchorOrigin".concat(ue(o)).concat(ue(d))],f),onMouseEnter:oe,onMouseLeave:ee,ref:a},L),i.createElement(W,b({appear:!0,in:D,onEnter:Pe(xe,h),onEntered:g,onEntering:k,onExit:y,onExited:Pe(H,S),onExiting:x,timeout:T,direction:o==="top"?"down":"up"},B),c||i.createElement(mt,b({message:w,action:r},v)))))});const jn=ae(Ln,{flip:!1,name:"MuiSnackbar"})(Nn);var We={},Wn=ie;Object.defineProperty(We,"__esModule",{value:!0});var ht=We.default=void 0,Vn=Wn(Yt()),Hn=Wt,Gn=(0,Vn.default)((0,Hn.jsx)("path",{d:"M2 6H0v5h.01L0 20c0 1.1.9 2 2 2h18v-2H2V6zm20-2h-8l-2-2H6c-1.1 0-1.99.9-1.99 2L4 16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 15l4.5-6 3.5 4.51 2.5-3.01L21 15H7z"}),"PermMedia");ht=We.default=Gn;function Ve({blob:t,row:e,params:a={}}){return(e||t).id&&F("img",{className:"img-preview-admin",src:`${window.env.BLOB_URL}/blob/${(t||e)[a.size]}`})}const gt=({type:t})=>({columns:[{titleToken:"CREATED AT",field:"createdAt",type:"date",isActive:!0},{titleToken:"ID",field:"blob_id",isActive:!0},{titleToken:"ITEM",field:"item_id",isActive:t=="ITEMS"},{titleToken:"USER",field:"user_id",isActive:t=="USERS"},{titleToken:"CATEGORY",field:"category_id",isActive:t=="CATEGORIES"},{titleToken:"PREVIEW",type:"component",field:"title",isActive:!0,enableColumnFilter:!1,enableSorting:!1,component:{Component:Ve,params:{size:"blob_thumbmail_id"}}}],enableMultiRowSelection:!1,enableRowSelection:!0}),de=t=>({...{getUnverifiedImages:()=>t(new be().queryThunt(et.Blob.GET_UNVERIFIED,{})),removeImage:a=>t(new be().commandThunt(Fe.Blob.REMOVE_BLOB,a)),verifyFile:({id:a})=>t(new be().commandThunt(Fe.Blob.VERIFY_IMAGE,{id:a})),getProjectStorage:a=>t(new be().queryThunt(et.Blob.GET_PROJECT_STORAGE,a)),uploadBlob:a=>t(new be().commandThunt(Fe.Blob.UPLOAD_BLOB_TO_PROJECT,a)),clean:()=>t({type:Gt.CLEAN,dto:{}})}});function bt(){const t=Vt(),{storageAdminReducer:e}=Ht(l=>({storageAdminReducer:l.StorageAdminReducer})),a=i.useCallback(de(t).getUnverifiedImages,[t]),r=i.useCallback(de(t).removeImage,[t]),n=i.useCallback(de(t).verifyFile,[t]),o=i.useCallback(de(t).getProjectStorage,[t]),d=i.useCallback(de(t).uploadBlob,[t]),s=i.useCallback(de(t).clean,[t]);return{selectors:{storageAdminReducer:e},actions:{getUnverifiedImages:a,removeImage:r,verifyFile:n,getProjectStorage:o,uploadBlob:d,clean:s},state:{},hooks:{},functions:{}}}var ke={},Un={get exports(){return ke},set exports(t){ke=t}},qn="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Kn=qn,Yn=Kn;function Xn(){}var Jn=function(){function t(r,n,o,d,s,l){if(l!==Yn){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var a={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return a.checkPropTypes=Xn,a.PropTypes=a,a};Un.exports=Jn();var He={},Qn=ie,Zn=ce;Object.defineProperty(He,"__esModule",{value:!0});var Et=He.default=void 0,er=Zn(i),tr=Qn(le()),nr=(0,tr.default)(er.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");Et=He.default=nr;var Ge={},rr=ie,ar=ce;Object.defineProperty(Ge,"__esModule",{value:!0});var yt=Ge.default=void 0,ir=ar(i),or=rr(le()),sr=(0,or.default)(ir.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");yt=Ge.default=sr;var Ue={},lr=ie,cr=ce;Object.defineProperty(Ue,"__esModule",{value:!0});var kt=Ue.default=void 0,dr=cr(i),ur=lr(le()),fr=(0,ur.default)(dr.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");kt=Ue.default=fr;var qe={},pr=ie,vr=ce;Object.defineProperty(qe,"__esModule",{value:!0});var Ct=qe.default=void 0,mr=vr(i),hr=pr(le()),gr=(0,hr.default)(mr.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error");Ct=qe.default=gr;var Ke={},br=ie,Er=ce;Object.defineProperty(Ke,"__esModule",{value:!0});var wt=Ke.default=void 0,yr=Er(i),kr=br(le()),Cr=(0,kr.default)(yr.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");wt=Ke.default=Cr;var Ye={},wr=ie,xr=ce;Object.defineProperty(Ye,"__esModule",{value:!0});var xt=Ye.default=void 0,Rr=xr(i),Sr=wr(le()),Pr=(0,Sr.default)(Rr.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");xt=Ye.default=Pr;function Tr(t){if(t.type.split("/")[0]==="image")return!0}function $r(t){var e="";return t>=1048576?e=t/1048576+" megabytes":t>=1024?e=t/1024+" kilobytes":e=t+" bytes",e}function Dr(t){return Ae.apply(this,arguments)}function Ae(){return Ae=fe(X.mark(function t(e){var a,r,n,o;return X.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,fetch(e);case 2:return a=s.sent,s.next=5,a.blob();case 5:return r=s.sent,n={type:r.type},o=e.replace(/\?.+/,"").split("/").pop(),s.abrupt("return",new File([r],o,n));case 9:case"end":return s.stop()}},t)})),Ae.apply(this,arguments)}function Rt(t){return new Promise(function(e,a){var r=new FileReader;r.onload=function(n){var o;e(n==null||(o=n.target)===null||o===void 0?void 0:o.result)},r.onerror=function(n){r.abort(),a(n)},r.readAsDataURL(t)})}var Mr=function(e){var a=e.palette,r=e.shape,n=e.spacing;return{root:{},imageContainer:{position:"relative",zIndex:10,textAlign:"center","&:hover $image":{opacity:.3},"&:hover $removeButton":{opacity:1}},image:{height:100,width:"initial",maxWidth:"100%",color:a.text.primary,transition:"all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms",boxSizing:"border-box",boxShadow:"rgba(0, 0, 0, 0.12) 0 1px 6px, rgba(0, 0, 0, 0.12) 0 1px 4px",borderRadius:r.borderRadius,zIndex:5,opacity:1},removeButton:{transition:".5s ease",position:"absolute",opacity:0,top:n(-1),right:n(-1),width:40,height:40,"&:focus":{opacity:1}}}},Fr=i.createElement(yt,null);function _r(t){var e=t.fileObjects,a=t.handleRemove,r=t.showFileNames,n=t.useChipsForPreview,o=t.previewChipProps,d=t.previewGridClasses,s=t.previewGridProps,l=t.classes,c=t.getPreviewIcon;return n?i.createElement(J,b({spacing:1,direction:"row"},s.container,{container:!0,className:G(l.root,d.container)}),e.map(function(u,f){var p,v;return i.createElement(J,b({},s.item,{item:!0,key:"".concat((p=(v=u.file)===null||v===void 0?void 0:v.name)!==null&&p!==void 0?p:"file","-").concat(f),className:l.imageContainer}),i.createElement(Ut,b({variant:"outlined"},o,{label:u.file.name,onDelete:a(f)})))})):i.createElement(J,b({spacing:8},s.container,{container:!0,className:G(l.root,d.container)}),e.map(function(u,f){var p,v;return i.createElement(J,b({xs:4},s.item,{item:!0,key:"".concat((p=(v=u.file)===null||v===void 0?void 0:v.name)!==null&&p!==void 0?p:"file","-").concat(f),className:G(l.imageContainer,d.item)}),c(u,l),r&&i.createElement(Be,{variant:"body1",component:"p"},u.file.name),i.createElement(On,{onClick:a(f),"aria-label":"Delete",className:l.removeButton},Fr))}))}var st=ae(Mr,{name:"MuiDropzonePreviewList"})(_r),Or={success:kt,warning:xt,error:Ct,info:wt},Br=function(e){return{successAlert:{backgroundColor:e.palette.success.main},errorAlert:{backgroundColor:e.palette.error.main},infoAlert:{backgroundColor:e.palette.info.main},warningAlert:{backgroundColor:e.palette.warning.main},message:{display:"flex",alignItems:"center","& > svg":{marginRight:e.spacing(1)}},icon:{fontSize:20,opacity:.9},closeButton:{}}};function Ir(t){var e=t.classes,a=t.className,r=t.message,n=t.onClose,o=t.variant,d=Z(t,["classes","className","message","onClose","variant"]),s=Or[o];return i.createElement(mt,b({className:G(e["".concat(o,"Alert")],a),"aria-describedby":"client-snackbar",message:i.createElement("span",{id:"client-snackbar",className:e.message},i.createElement(s,{className:e.icon}),r),action:[i.createElement(Qt,{key:"close","aria-label":"Close",color:"inherit",className:e.closeButton,onClick:n},i.createElement(Jt,{className:e.icon}))]},d))}var Ar=ae(Br,{name:"MuiDropzoneSnackbar"})(Ir),zr=function(e){var a=e.palette,r=e.shape,n=e.spacing;return{"@keyframes progress":{"0%":{backgroundPosition:"0 0"},"100%":{backgroundPosition:"-70px 0"}},root:{position:"relative",width:"100%",minHeight:"250px",backgroundColor:a.background.paper,border:"dashed",borderColor:a.divider,borderRadius:r.borderRadius,boxSizing:"border-box",cursor:"pointer",overflow:"hidden"},active:{animation:"$progress 2s linear infinite !important",backgroundImage:"repeating-linear-gradient(-45deg, ".concat(a.background.paper,", ").concat(a.background.paper," 25px, ").concat(a.divider," 25px, ").concat(a.divider," 50px)"),backgroundSize:"150% 100%",border:"solid",borderColor:a.primary.light},invalid:{backgroundImage:"repeating-linear-gradient(-45deg, ".concat(a.error.light,", ").concat(a.error.light," 25px, ").concat(a.error.dark," 25px, ").concat(a.error.dark," 50px)"),borderColor:a.error.main},textContainer:{textAlign:"center"},text:{marginBottom:n(3),marginTop:n(3)},icon:{width:51,height:51,color:a.text.primary}}},Lr={horizontal:"left",vertical:"bottom"},Nr=function(e,a){return Tr(e.file)?i.createElement("img",{className:a.image,role:"presentation",src:e.data}):i.createElement(Et,{className:a.image})},St=function(t){Le(e,t);function e(){var a,r;De(this,e);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return r=Ne(this,(a=je(e)).call.apply(a,[this].concat(o))),r.state={openSnackBar:!1,snackbarMessage:"",snackbarVariant:"success"},r.handleDropAccepted=function(){var s=fe(X.mark(function l(c,u){var f,p,v,E,m,w,C,h,g;return X.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=r.props,p=f.fileObjects,v=f.filesLimit,E=f.getFileAddedMessage,m=f.getFileLimitExceedMessage,w=f.onAdd,C=f.onDrop,!(v>1&&p.length+c.length>v)){y.next=4;break}return r.setState({openSnackBar:!0,snackbarMessage:m(v),snackbarVariant:"error"},r.notifyAlert),y.abrupt("return");case 4:return C&&C(c,u),y.next=7,Promise.all(c.map(function(){var S=fe(X.mark(function x(R){var N;return X.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Rt(R);case 2:return N=_.sent,_.abrupt("return",{file:R,data:N});case 4:case"end":return _.stop()}},x)}));return function(x){return S.apply(this,arguments)}}()));case 7:h=y.sent,w&&w(h),g=h.reduce(function(S,x){return S+E(x.file.name)},""),r.setState({openSnackBar:!0,snackbarMessage:g,snackbarVariant:"success"},r.notifyAlert);case 11:case"end":return y.stop()}},l)}));return function(l,c){return s.apply(this,arguments)}}(),r.handleDropRejected=function(s,l){var c=r.props,u=c.acceptedFiles,f=c.filesLimit,p=c.fileObjects,v=c.getDropRejectMessage,E=c.getFileLimitExceedMessage,m=c.maxFileSize,w=c.onDropRejected,C="";p.length+s.length>f?C=E(f):s.forEach(function(h){C=v(h,u,m)}),w&&w(s,l),r.setState({openSnackBar:!0,snackbarMessage:C,snackbarVariant:"error"},r.notifyAlert)},r.handleRemove=function(s){return function(l){l.stopPropagation();var c=r.props,u=c.fileObjects,f=c.getFileRemovedMessage,p=c.onDelete,v=u[s];p&&p(v,s),r.setState({openSnackBar:!0,snackbarMessage:f(v.file.name),snackbarVariant:"info"},r.notifyAlert)}},r.handleCloseSnackbar=function(){r.setState({openSnackBar:!1})},r}return $e(e,[{key:"notifyAlert",value:function(){var r=this.props.onAlert,n=this.state,o=n.openSnackBar,d=n.snackbarMessage,s=n.snackbarVariant;o&&r&&r(d,s)}},{key:"render",value:function(){var r=this,n=this.props,o=n.acceptedFiles,d=n.alertSnackbarProps,s=n.classes,l=n.disableRejectionFeedback,c=n.dropzoneClass,u=n.dropzoneParagraphClass,f=n.dropzoneProps,p=n.dropzoneText,v=n.fileObjects,E=n.filesLimit,m=n.getPreviewIcon,w=n.Icon,C=n.inputProps,h=n.maxFileSize,g=n.previewChipProps,k=n.previewGridClasses,y=n.previewGridProps,S=n.previewText,x=n.showAlerts,R=n.showFileNames,N=n.showFileNamesInPreview,D=n.showPreviews,_=n.showPreviewsInDropzone,z=n.useChipsForPreview,W=this.state,V=W.openSnackBar,T=W.snackbarMessage,B=W.snackbarVariant,L=o==null?void 0:o.join(","),P=E>1,M=D&&v.length>0,$=_&&v.length>0;return i.createElement(i.Fragment,null,i.createElement(qt,b({},f,{accept:L,onDropAccepted:this.handleDropAccepted,onDropRejected:this.handleDropRejected,maxSize:h,multiple:P}),function(O){var I=O.getRootProps,A=O.getInputProps,U=O.isDragActive,j=O.isDragReject;return i.createElement("div",I({className:G(s.root,c,U&&s.active,!l&&j&&s.invalid)}),i.createElement("input",A(C)),i.createElement("div",{className:s.textContainer},i.createElement(Be,{variant:"h5",component:"p",className:G(s.text,u)},p),w?i.createElement(w,{className:s.icon}):i.createElement(Xt,{className:s.icon})),$&&i.createElement(st,{fileObjects:v,handleRemove:r.handleRemove,getPreviewIcon:m,showFileNames:R,useChipsForPreview:z,previewChipProps:g,previewGridClasses:k,previewGridProps:y}))}),M&&i.createElement(i.Fragment,null,i.createElement(Be,{variant:"subtitle1",component:"span"},S),i.createElement(st,{fileObjects:v,handleRemove:this.handleRemove,getPreviewIcon:m,showFileNames:N,useChipsForPreview:z,previewChipProps:g,previewGridClasses:k,previewGridProps:y})),(typeof x=="boolean"&&x||Array.isArray(x)&&x.includes(B))&&i.createElement(jn,b({anchorOrigin:Lr,autoHideDuration:6e3},d,{open:V,onClose:this.handleCloseSnackbar}),i.createElement(Ar,{onClose:this.handleCloseSnackbar,variant:B,message:T})))}}]),e}(i.PureComponent);St.defaultProps={acceptedFiles:[],filesLimit:3,fileObjects:[],maxFileSize:3e6,dropzoneText:"Drag and drop a file here or click",previewText:"Preview:",disableRejectionFeedback:!1,showPreviews:!1,showPreviewsInDropzone:!0,showFileNames:!1,showFileNamesInPreview:!1,useChipsForPreview:!1,previewChipProps:{},previewGridClasses:{},previewGridProps:{},showAlerts:!0,alertSnackbarProps:{anchorOrigin:{horizontal:"left",vertical:"bottom"},autoHideDuration:6e3},getFileLimitExceedMessage:function(e){return"Maximum allowed number of files exceeded. Only ".concat(e," allowed")},getFileAddedMessage:function(e){return"File ".concat(e," successfully added.")},getPreviewIcon:Nr,getFileRemovedMessage:function(e){return"File ".concat(e," removed.")},getDropRejectMessage:function(e,a,r){var n="File ".concat(e.name," was rejected. ");return a.includes(e.type)||(n+="File type not supported. "),e.size>r&&(n+="File is too big. Size limit is "+$r(r)+". "),n}};ke.shape({file:ke.object,data:ke.any});var jr=ae(zr,{name:"MuiDropzoneArea"})(St);function Wr(t){var e=t.cancelButtonText,a=t.dialogProps,r=t.dialogTitle,n=t.fullWidth,o=t.maxWidth,d=t.onClose,s=t.onSave,l=t.open,c=t.submitButtonText,u=Z(t,["cancelButtonText","dialogProps","dialogTitle","fullWidth","maxWidth","onClose","onSave","open","submitButtonText"]);return[{cancelButtonText:e,dialogProps:a,dialogTitle:r,fullWidth:n,maxWidth:o,onClose:d,onSave:s,open:l,submitButtonText:c},u]}var Pt=function(t){Le(e,t);function e(){return De(this,e),Ne(this,je(e).apply(this,arguments))}return $e(e,[{key:"render",value:function(){var r=Wr(this.props),n=ze(r,2),o=n[0],d=n[1],s=o.cancelButtonText,l=o.dialogProps,c=o.dialogTitle,u=o.fullWidth,f=o.maxWidth,p=o.onClose,v=o.onSave,E=o.open,m=o.submitButtonText,w=d.fileObjects.length===0;return i.createElement(Mn,b({},l,{fullWidth:u,maxWidth:f,onClose:p,open:E}),i.createElement(Zt,null,c),i.createElement(en,null,i.createElement(jr,d)),i.createElement(tn,null,i.createElement(nt,{color:"primary",onClick:p},s),i.createElement(nt,{color:"primary",disabled:w,onClick:v},m)))}}]),e}(i.PureComponent);Pt.defaultProps={open:!1,dialogTitle:"Upload file",dialogProps:{},fullWidth:!0,maxWidth:"sm",cancelButtonText:"Cancel",submitButtonText:"Submit",showPreviews:!0,showPreviewsInDropzone:!1,showFileNamesInPreview:!0};var Tt=function(t){Le(e,t);function e(){var a,r;De(this,e);for(var n=arguments.length,o=new Array(n),d=0;d<n;d++)o[d]=arguments[d];return r=Ne(this,(a=je(e)).call.apply(a,[this].concat(o))),r.state={fileObjects:[]},r.notifyFileChange=function(){var s=r.props.onChange,l=r.state.fileObjects;s&&s(l.map(function(c){return c.file}))},r.loadInitialFiles=fe(X.mark(function s(){var l,c;return X.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return l=r.props.initialFiles,f.prev=1,f.next=4,Promise.all(l.map(function(){var p=fe(X.mark(function v(E){var m,w;return X.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(typeof E!="string"){h.next=6;break}return h.next=3,Dr(E);case 3:m=h.sent,h.next=7;break;case 6:m=E;case 7:return h.next=9,Rt(m);case 9:return w=h.sent,h.abrupt("return",{file:m,data:w});case 11:case"end":return h.stop()}},v)}));return function(v){return p.apply(this,arguments)}}()));case 4:c=f.sent,r.setState(function(p){return{fileObjects:[].concat(p.fileObjects,c)}},r.notifyFileChange),f.next=11;break;case 8:f.prev=8,f.t0=f.catch(1),console.log(f.t0);case 11:case"end":return f.stop()}},s,null,[[1,8]])})),r.addFiles=function(){var s=fe(X.mark(function l(c){var u;return X.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u=r.props.filesLimit,r.setState(function(v){return u<=1?{fileObjects:[].concat(c[0])}:{fileObjects:[].concat(v.fileObjects,c)}},r.notifyFileChange);case 2:case"end":return p.stop()}},l)}));return function(l){return s.apply(this,arguments)}}(),r.deleteFile=function(s,l){event.stopPropagation();var c=r.props.onDelete,u=r.state.fileObjects,f=u.filter(function(p,v){return v!==l});c&&c(s.file),r.setState({fileObjects:f},r.notifyFileChange)},r.handleClose=function(s){var l=r.props,c=l.clearOnUnmount,u=l.onClose;u&&u(s),c&&r.setState({fileObjects:[]},r.notifyFileChange)},r.handleSave=function(s){var l=r.props,c=l.clearOnUnmount,u=l.onSave,f=r.state.fileObjects;u&&u(f.map(function(p){return p.file}),s),c&&r.setState({fileObjects:[]},r.notifyFileChange)},r}return $e(e,[{key:"componentDidMount",value:function(){this.loadInitialFiles()}},{key:"componentWillUnmount",value:function(){var r=this.props.clearOnUnmount;r&&this.setState({fileObjects:[]},this.notifyFileChange)}},{key:"render",value:function(){var r=this.state.fileObjects;return i.createElement(Pt,b({},this.props,{fileObjects:r,onAdd:this.addFiles,onDelete:this.deleteFile,onClose:this.handleClose,onSave:this.handleSave}))}}]),e}(i.PureComponent);Tt.defaultProps={clearOnUnmount:!0,filesLimit:3,initialFiles:[]};var Xe={},Vr=ie,Hr=ce;Object.defineProperty(Xe,"__esModule",{value:!0});var $t=Xe.default=void 0,Gr=Hr(i),Ur=Vr(le()),qr=(0,Ur.default)(Gr.createElement("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");$t=Xe.default=qr;function Se({type:t}){const e=K.useMemo(me().Layouts.Table.V2,[]),a=K.useMemo(me().Layouts.Sections.V1,[]),r=K.useMemo(()=>Kt.byName("mapps-component-icon-button").component),[n,o]=K.useState(!1),{getLabel:d,translate:s}=ut(),[l,c]=K.useState([]),[u,f]=K.useState({}),{selectors:{storageAdminReducer:p},actions:{clean:v,getProjectStorage:E,removeImage:m,verifyFile:w,uploadBlob:C}}=bt();K.useEffect(()=>(E({type:t}),v),[]);function h(k,y){m({...y})}function g(k){const y=[];if(k.length!=0)for(let S=0;S<k.length;S++){const x=k[S],R=new FileReader;R.readAsDataURL(x),R.onload=()=>{const N={id:tt(),name:x.name,type:x.type,size:Math.round(x.size/1e3)+" kB",blob:R.result,file:x};y.push(N);const D=y.map(_=>{const z={};return z.id=tt(),z.blob=R.result.split("base64,")[1],z.type=_.type,C(z)});Promise.all(D).then(_=>{E({type:t})})}}}return pe(J,{container:!0,children:[pe(J,{item:!0,xs:8,children:[F(Tt,{filesLimit:1,dropzoneText:s(d,"Upload Image"),acceptedFiles:["image/jpeg","image/png","image/bmp"],maxFileSize:25e5,useChipsForPreview:!1,showPreviewsInDropzone:!1,open:n,showAlerts:["error"],onChange:k=>{c(k)},onClose:()=>{o(!1),c([])},onSave:()=>{g(l),o(!1),c([])},previewText:["error","info","success"],showPreviews:!0,cancelButtonText:s(d,"CANCEL_BUTTON"),submitButtonText:s(d,"SUBMIT_BUTTON")}),F(e,{isLoading:p.getImagesIsLoading,icons:Ee,freeActions:[t=="PROJECT"&&F(r,{onClick:()=>o(!0),children:F($t,{style:{fontSize:40}})})],actions:[k=>({icon:Ee.Delete,label:"Remove Image",onClick:h})],...gt({type:t}),onRowSelectionChange:k=>{const y=Object.keys(k).map(S=>S);if(y.length>0){const S=p.files.find(x=>x.id==y[0]);f(S)}},data:p.files,title:"Files"})]}),F(J,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:F(a,{title:"Preview File",children:F(Ve,{blob:u,params:{size:"blob_id"}})})})]})}function Kr(t){const e=K.useMemo(me().Layouts.Table.V2,[]),a=K.useMemo(me().Layouts.Sections.V1,[]),[r,n]=K.useState({}),{selectors:{storageAdminReducer:o},actions:{clean:d,getUnverifiedImages:s,removeImage:l,verifyFile:c}}=bt();K.useEffect(()=>(s(),d),[]);function u(p,v){l({...v})}const f=(p,v)=>{c({...v})};return pe(J,{container:!0,children:[F(J,{item:!0,xs:8,children:F(e,{isLoading:o.getImagesIsLoading,icons:Ee,actions:[p=>({icon:Ee.Check,label:"Verify Image",onClick:f}),p=>({icon:Ee.Delete,label:"Remove Image",onClick:u})],...gt({}),onRowSelectionChange:p=>{const v=Object.keys(p).map(E=>E);if(v.length>0){const E=o.files.find(m=>m.id==v[0]);n(E)}},data:o.files,title:"To Verify Files"})}),F(J,{container:!0,item:!0,xs:4,style:{justifyContent:"center"},children:F(a,{title:"Preview File",children:F(Ve,{blob:r,params:{size:"blob_id"}})})})]})}function na(){const t=K.useMemo(me().Layouts.Containers.V1),e=K.useMemo(me().Layouts.Tab.V1),{translate:a,getLabel:r}=ut();return pe(J,{container:!0,style:{justifyContent:"center"},children:[pe(t,{title:"TODOOOO",xs:12,sm:12,children:["TODOOOOOOs",pe(J,{children:["Edit File,",F("br",{}),"Save TAG/LABEL for file,",F("br",{}),"Save extension,",F("br",{}),"Insted of image show icon if pdf",F("br",{}),"FLAG - AUTO GENERATED"]})]}),F(t,{title:"Storage",icon:F(ht,{}),xs:12,sm:12,children:F(e,{defaultTab:0,tabConfig:[{label:a(r,"To Verify"),render:()=>F(Kr,{},1)},{label:a(r,"Categories"),render:()=>F(Se,{type:"CATEGORIES"},2)},{label:a(r,"Users"),render:()=>F(Se,{type:"USERS"},3)},{label:a(r,"Items"),render:()=>F(Se,{type:"ITEMS"},4)},{label:a(r,"Project"),render:()=>F(Se,{type:"PROJECT"},5)}]})})]})}export{na as default};
