import{cU as E,cV as a,r as c,v as P,cW as o,cX as i,cY as A}from"./index-b2bea69e.js";const s=t=>{const e={upsertAction:n=>t(new o().commandThunt(i.Actions.UPSERT_ACTIONS,n)),deleteAction:({id:n})=>t(new o().commandThunt(i.Actions.DELETE_ACTIONS,{id:n})),upsertActionGlobal:n=>t(new o().commandThunt(i.Actions.UPSERT_GLOBAL_ACTIONS,n)),deleteActionGlobal:n=>t(new o().commandThunt(i.Actions.DELETE_GLOBAL_ACTIONS,n)),getActions:n=>t(new o().queryThunt(A.Actions.GET_ACTIONS,n)),getAllActions:n=>t(new o().queryThunt(A.Actions.GET_GLOBAL_ACTIONS,n)),grantPrivs:n=>t(new o().commandThunt(i.Actions.UPSERT_ACTIONS_PRIVS,n)),revokePrivs:n=>t(new o().commandThunt(i.Actions.DELETE_ACTIONS_PRIVS,n))};return{...e,upsertAction:async n=>{await e.upsertAction(n),await e.getActions()},deleteAction:async n=>{await e.deleteAction(n),await e.getActions()},upsertActionGlobal:async n=>{await e.upsertActionGlobal(n),await e.upsertAction({action_id:n.id,id:P(),status:!0}),await e.getAllActions(),await e.getActions()},deleteActionGlobal:async n=>{await e.deleteActionGlobal(n),await e.getAllActions(),await e.getActions()},grantPrivs:async n=>{await e.grantPrivs(n),await e.getActions()},revokePrivs:async n=>{await e.revokePrivs(n),await e.getActions()}}},k=()=>t=>t.ActionsAdminReducer.actionsGlobal,I=()=>t=>t.ActionsAdminReducer.actions,R=t=>e=>t?e.ActionsAdminReducer.actions.find(r=>r.id==t):null;function L(){const t=E(),{actionsAdminReducer:e}=a(C=>({actionsAdminReducer:C.ActionsAdminReducer})),[n,r]=c.useState(),l=a(k()),u=a(I()),d=a(R(n)),g=c.useCallback(s(t).getAllActions,[t]),m=c.useCallback(s(t).getActions,[t]),T=c.useCallback(s(t).upsertAction,[t]),w=c.useCallback(s(t).deleteAction,[t]),b=c.useCallback(s(t).deleteActionGlobal,[t]),S=c.useCallback(s(t).upsertActionGlobal,[t]),v=c.useCallback(s(t).grantPrivs,[t]),G=c.useCallback(s(t).revokePrivs,[t]);return{selectors:{actionsAdminReducer:e,getAllActionsGlobalReducer:l,getAllActionsReducer:u,getActionByIdReducer:d},actions:{getAllActions:g,getActions:m,upsertAction:T,deleteAction:w,deleteActionGlobal:b,upsertActionGlobal:S,grantPrivs:v,revokePrivs:G},state:{actionId:n},hooks:{setActionId:r},functions:{}}}export{L as u};
